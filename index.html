<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kanha Library - Premium Study Space in Kota</title>

    <!-- Favicons -->
    <link rel="icon" href="images/fevicon/favicon.ico" type="image/x-icon" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="images/fevicon/favicon-32x32.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/fevicon/apple-touch-icon.png"
    />
    <link rel="manifest" href="images/fevicon/site.webmanifest" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind Config -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Poppins", "sans-serif"],
            },
            colors: {
              primary: "#6366f1", // Indigo 500
              secondary: "#ec4899", // Pink 500
              dark: "#0f172a",
            },
            animation: {
              float: "float 6s ease-in-out infinite",
              "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-20px)" },
              },
            },
          },
        },
      };
    </script>

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-MS3QJRDZ7C"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-MS3QJRDZ7C");
    </script>

    <link rel="stylesheet" href="index.css?v=2.1" />
  </head>
  <body
    class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 text-slate-800 antialiased overflow-x-hidden min-h-screen relative"
  >
    <!-- Background Elements -->
    <div class="fixed inset-0 -z-10 overflow-hidden pointer-events-none">
      <div
        class="absolute -top-[20%] -left-[10%] w-[50%] h-[50%] rounded-full bg-purple-200/20 blur-3xl animate-float"
      ></div>
      <div
        class="absolute top-[40%] -right-[10%] w-[40%] h-[40%] rounded-full bg-blue-200/20 blur-3xl animate-pulse-slow"
      ></div>
      <div
        class="absolute -bottom-[10%] left-[20%] w-[60%] h-[40%] rounded-full bg-indigo-200/20 blur-3xl"
      ></div>
    </div>
    <!-- Offer Modal -->
    <div
      id="offers-modal"
      class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden"
    >
      <div
        class="bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl transform transition-all scale-100 relative overflow-hidden"
      >
        <div
          class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary to-secondary"
        ></div>
        <button
          id="closeOffersBtn"
          class="absolute top-4 right-4 text-slate-400 hover:text-slate-600"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>

        <div class="text-center mb-6">
          <span class="text-4xl mb-2 block">üî•</span>
          <h3 class="text-2xl font-bold text-slate-900">Exclusive Offers</h3>
          <p class="text-slate-500 text-sm">Limited time deals for you!</p>
        </div>

        <div class="space-y-4 mb-8">
          <div class="flex items-center p-3 bg-indigo-50 rounded-xl">
            <span class="text-2xl mr-3">üí∏</span>
            <div>
              <p class="font-bold text-indigo-900">Book 4 months</p>
              <p class="text-indigo-700 text-sm">Get ‚Çπ400 OFF flat</p>
            </div>
          </div>
          <div class="flex items-center p-3 bg-pink-50 rounded-xl">
            <span class="text-2xl mr-3">üåü</span>
            <div>
              <p class="font-bold text-pink-900">Book 6 months</p>
              <p class="text-pink-700 text-sm">Get ‚Çπ800 OFF flat</p>
            </div>
          </div>
          <div class="flex items-center p-3 bg-purple-50 rounded-xl">
            <span class="text-2xl mr-3">üèÜ</span>
            <div>
              <p class="font-bold text-purple-900">Book 12 months</p>
              <p class="text-purple-700 text-sm">Get ‚Çπ2400 OFF flat</p>
            </div>
          </div>
          <div class="flex items-center p-3 bg-green-50 rounded-xl">
            <span class="text-2xl mr-3">üéÅ</span>
            <div>
              <p class="font-bold text-green-900">Refer a Friend</p>
              <p class="text-green-700 text-sm">‚Çπ100 OFF for both of you!</p>
            </div>
          </div>
        </div>

        <button
          onclick="location.href = 'booking.html'"
          class="w-full py-4 bg-gradient-to-r from-primary to-secondary text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:scale-[1.02] transition-transform"
        >
          Book Your Seat Now
        </button>
      </div>
    </div>

    <!-- Navigation -->
    <nav
      class="fixed w-full z-40 top-0 transition-all duration-300 glass border-b border-white/50"
      id="navbar"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-20 items-center">
          <div class="flex-shrink-0 flex items-center gap-3">
            <img
              class="h-10 w-10 rounded-full shadow-md"
              src="images/logo.jpg"
              alt="Logo"
            />
            <span
              class="font-bold text-xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary"
              >Kanha Library</span
            >
          </div>

          <!-- Desktop Menu -->
          <div class="hidden md:flex items-center space-x-8">
            <a
              href="#about"
              class="relative group text-slate-600 hover:text-primary font-medium transition-colors"
            >
              <span>About</span>
              <span
                class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-secondary transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
            <a
              href="#seat-layout"
              class="relative group text-slate-600 hover:text-primary font-medium transition-colors"
            >
              <span>Availability</span>
              <span
                class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-secondary transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
            <a
              href="#plans"
              class="relative group text-slate-600 hover:text-primary font-medium transition-colors"
            >
              <span>Plans</span>
              <span
                class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-secondary transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
            <a
              href="#testimonials"
              class="relative group text-slate-600 hover:text-primary font-medium transition-colors"
            >
              <span>Reviews</span>
              <span
                class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-secondary transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
            <a
              href="#contact"
              class="relative group text-slate-600 hover:text-primary font-medium transition-colors"
            >
              <span>Contact</span>
              <span
                class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-secondary transition-all duration-300 group-hover:w-full"
              ></span>
            </a>
            <div id="user-section">
              <a
                href="./login.html"
                class="px-5 py-2.5 rounded-full bg-slate-900 text-white font-medium hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20"
                >Login</a
              >
            </div>
          </div>

          <!-- Mobile menu button -->
          <div class="md:hidden flex items-center">
            <button
              id="mobile-menu-btn"
              class="text-slate-600 hover:text-slate-900 focus:outline-none p-2"
            >
              <svg
                class="h-8 w-8"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Mobile Menu (Right-Side Drawer) - Moved outside nav to avoid backdrop-filter stacking context issues -->
    <div
      id="mobile-menu-overlay"
      class="fixed inset-0 bg-black/50 z-[100] hidden transition-opacity duration-300 opacity-0"
    ></div>
    <div
      id="mobile-menu"
      class="fixed top-0 right-0 w-64 h-full bg-white/95 backdrop-blur-xl z-[101] transform translate-x-full transition-transform duration-300 shadow-2xl flex flex-col"
    >
      <div class="flex justify-end p-4">
        <button
          id="mobile-menu-close"
          class="text-slate-500 hover:text-slate-800 focus:outline-none"
        >
          <svg
            class="h-8 w-8"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
      </div>
      <div class="px-6 py-2 space-y-4 overflow-y-auto flex-1">
        <a
          href="#about"
          class="mobile-link block px-4 py-3 rounded-xl text-lg font-medium text-slate-600 hover:bg-slate-50 hover:text-primary transition-colors border border-transparent hover:border-slate-100"
          >About</a
        >
        <a
          href="#seat-layout"
          class="mobile-link block px-4 py-3 rounded-xl text-lg font-medium text-slate-600 hover:bg-slate-50 hover:text-primary transition-colors border border-transparent hover:border-slate-100"
          >Availability</a
        >
        <a
          href="#plans"
          class="mobile-link block px-4 py-3 rounded-xl text-lg font-medium text-slate-600 hover:bg-slate-50 hover:text-primary transition-colors border border-transparent hover:border-slate-100"
          >Plans</a
        >
        <a
          href="#testimonials"
          class="mobile-link block px-4 py-3 rounded-xl text-lg font-medium text-slate-600 hover:bg-slate-50 hover:text-primary transition-colors border border-transparent hover:border-slate-100"
          >Reviews</a
        >
        <a
          href="#contact"
          class="mobile-link block px-4 py-3 rounded-xl text-lg font-medium text-slate-600 hover:bg-slate-50 hover:text-primary transition-colors border border-transparent hover:border-slate-100"
          >Contact</a
        >
        <div
          id="mobile-user-section"
          class="pt-6 border-t border-slate-100 mt-4"
        >
          <a
            href="./login.html"
            class="mobile-link block w-full text-center px-5 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-indigo-500/30 active:scale-95 transition-transform"
            >Login / Sign Up</a
          >
        </div>
      </div>
    </div>

    <!-- Hero Section -->
    <header class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden">
      <div
        class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-black/40"
      ></div>
      <!-- Background Image -->
      <div class="absolute inset-0 -z-10">
        <img
          src="images/3.jpg"
          alt="Library Background"
          class="w-full h-full object-cover scale-105 animate-pulse-slow opacity-90"
          style="animation-duration: 20s"
        />
      </div>

      <div
        class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-white"
      >
        <div
          class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/20 mb-8 animate-float"
        >
          <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
          <span class="text-sm font-medium tracking-wide"
            >Kota's Premium Library</span
          >
        </div>

        <h1
          class="text-5xl md:text-7xl font-bold tracking-tight mb-6 leading-tight"
        >
          Focus. Learn.
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary"
            >Achieve.</span
          >
        </h1>
        <p
          class="mt-4 text-xl text-slate-200 max-w-2xl mx-auto font-light leading-relaxed"
        >
          Experience the most peaceful and productive study environment in Kota.
          High-speed WiFi, ergonomic seating, and complete silence.
        </p>

        <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="./booking.html"
            class="px-8 py-4 rounded-full bg-white text-slate-900 font-bold text-lg shadow-xl hover:bg-slate-50 transition-all hover:-translate-y-1"
          >
            Book Seat Now
          </a>
          <a
            href="#seat-layout"
            class="px-8 py-4 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white font-medium text-lg hover:bg-white/20 transition-all"
          >
            Check Availability
          </a>
        </div>

        <!-- Live Stats -->
        <div
          class="mt-16 inline-flex flex-wrap justify-center gap-8 bg-black/30 backdrop-blur-md rounded-2xl p-6 border border-white/10"
        >
          <div class="text-center px-6 border-r border-white/10 last:border-0">
            <p class="text-3xl font-bold text-white" id="seatsLeft">--</p>
            <p class="text-sm text-slate-300 uppercase tracking-wider mt-1">
              Seats Left
            </p>
          </div>
          <div class="text-center px-6">
            <p class="text-3xl font-bold text-white">34</p>
            <p class="text-sm text-slate-300 uppercase tracking-wider mt-1">
              Total Seats
            </p>
          </div>
        </div>
        <div
          id="liveCounter"
          class="mt-4 text-amber-300 font-medium animate-pulse"
        ></div>
      </div>
    </header>

    <!-- My Bookings Section (Hidden by default) -->
    <section id="my-bookings" class="py-12 bg-white/50 backdrop-blur-md hidden">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2
          class="text-3xl font-bold text-slate-900 mb-8 flex items-center gap-3"
        >
          <span>üìö</span> Your Bookings
        </h2>
        <div
          id="booking-list"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
        >
          <!-- JS injected -->
        </div>
      </div>
    </section>

    <!-- Why Choose Us -->
    <section id="about" class="py-24 relative">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2
            class="text-sm font-bold text-primary uppercase tracking-widest mb-2"
          >
            Features
          </h2>
          <h3 class="text-4xl font-bold text-slate-900">Why Choose Kanha?</h3>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Feature 1 -->
          <div
            class="group p-8 rounded-3xl bg-white border border-slate-100 shadow-lg shadow-slate-200/50 hover:shadow-2xl hover:shadow-primary/5 transition-all hover:-translate-y-2"
          >
            <div
              class="w-14 h-14 rounded-2xl bg-indigo-100 flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform"
            >
              ü§´
            </div>
            <h4 class="text-xl font-bold text-slate-900 mb-3">
              Pin-drop Silence
            </h4>
            <p class="text-slate-600 leading-relaxed">
              Strictly monitored silent zone to ensure 100% focus on your
              studies without distractions.
            </p>
          </div>

          <!-- Feature 2 -->
          <div
            class="group p-8 rounded-3xl bg-white border border-slate-100 shadow-lg shadow-slate-200/50 hover:shadow-2xl hover:shadow-primary/5 transition-all hover:-translate-y-2"
          >
            <div
              class="w-14 h-14 rounded-2xl bg-pink-100 flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform"
            >
              ‚ö°
            </div>
            <h4 class="text-xl font-bold text-slate-900 mb-3">
              High-Speed WiFi
            </h4>
            <p class="text-slate-600 leading-relaxed">
              Fiber-optic internet connection to ensure your online lectures and
              research never buffer.
            </p>
          </div>

          <!-- Feature 3 -->
          <div
            class="group p-8 rounded-3xl bg-white border border-slate-100 shadow-lg shadow-slate-200/50 hover:shadow-2xl hover:shadow-primary/5 transition-all hover:-translate-y-2"
          >
            <div
              class="w-14 h-14 rounded-2xl bg-amber-100 flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform"
            >
              ‚ùÑÔ∏è
            </div>
            <h4 class="text-xl font-bold text-slate-900 mb-3">
              Fully AC & Comfy
            </h4>
            <p class="text-slate-600 leading-relaxed">
              Climate controlled environment with ergonomic chairs designed for
              long study sessions.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Seat Layout Preview (MOVED UP) -->
    <section
      id="seat-layout"
      class="py-8 lg:py-24 bg-white/60 backdrop-blur-xl border-y border-white/50"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-4 lg:mb-12">
          <h2
            class="text-sm font-bold text-primary uppercase tracking-widest mb-2"
          >
            Real-Time
          </h2>
          <h3 class="text-2xl lg:text-3xl font-bold text-slate-900">
            Seat Availability
          </h3>
          <p class="text-slate-500 mt-2 text-sm lg:text-base">
            Select a date to check availability instantly.
          </p>
        </div>

        <div
          class="bg-white rounded-[2rem] lg:rounded-[2.5rem] p-4 lg:p-8 shadow-2xl shadow-indigo-100 border border-white/50 max-w-5xl mx-auto"
        >
          <div class="flex flex-col items-center justify-center mb-4 lg:mb-10">
            <div class="relative w-full max-w-xs">
              <input
                type="date"
                id="calendar-date"
                class="w-full pl-12 pr-6 py-2 lg:py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-700 font-medium focus:ring-2 focus:ring-primary focus:border-primary focus:outline-none shadow-sm transition-all hover:bg-slate-100 cursor-pointer text-sm lg:text-base"
              />
              <span
                class="absolute left-4 top-1/2 -translate-y-1/2 text-lg lg:text-xl"
                >üìÖ</span
              >
            </div>
            <div
              id="loading-seats"
              class="hidden mt-2 lg:mt-4 text-primary font-medium flex items-center gap-2 text-sm"
            >
              <svg
                class="animate-spin h-4 w-4 lg:h-5 lg:w-5 text-primary"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  class="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                ></circle>
                <path
                  class="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                ></path>
              </svg>
              Fetching real-time status...
            </div>
          </div>

          <div class="w-full pb-2 lg:pb-6 flex justify-center">
            <div
              class="seat-layout-container flex flex-row-reverse justify-center gap-2 sm:gap-4 px-2 lg:px-4"
            >
              <!-- Rows will be injected here as Columns -->
              <div
                class="flex flex-col justify-center gap-1.5 sm:gap-4"
                id="row3"
              ></div>
              <div
                class="flex flex-col justify-center gap-1.5 sm:gap-4"
                id="row2"
              ></div>
              <div
                class="flex flex-col justify-center gap-1.5 sm:gap-4 mr-2 sm:mr-8"
                id="row1"
              ></div>
            </div>
          </div>

          <div
            class="grid grid-cols-2 sm:flex sm:justify-center gap-3 lg:gap-8 mt-4 lg:mt-10 bg-slate-50 p-3 lg:p-4 rounded-xl lg:rounded-2xl mx-auto max-w-2xl border border-slate-100"
          >
            <div
              class="flex items-center gap-1.5 lg:gap-2 justify-center sm:justify-start"
            >
              <div
                class="w-4 h-4 lg:w-5 lg:h-5 bg-white border border-slate-300 rounded lg:rounded-md shadow-sm flex-shrink-0"
              ></div>
              <span class="text-xs lg:text-sm font-medium text-slate-600"
                >Available</span
              >
            </div>
            <div
              class="flex items-center gap-1.5 lg:gap-2 justify-center sm:justify-start"
            >
              <div
                class="w-4 h-4 lg:w-5 lg:h-5 bg-gradient-to-br from-red-500 to-red-600 rounded lg:rounded-md shadow-sm flex-shrink-0"
              ></div>
              <span class="text-xs lg:text-sm font-medium text-slate-600"
                >Full Booked</span
              >
            </div>
            <div
              class="flex items-center gap-1.5 lg:gap-2 justify-center sm:justify-start"
            >
              <div
                class="w-4 h-4 lg:w-5 lg:h-5 bg-gradient-to-br from-amber-400 to-amber-500 rounded lg:rounded-md shadow-sm flex-shrink-0"
              ></div>
              <span class="text-xs lg:text-sm font-medium text-slate-600"
                >Morning</span
              >
            </div>
            <div
              class="flex items-center gap-1.5 lg:gap-2 justify-center sm:justify-start"
            >
              <div
                class="w-4 h-4 lg:w-5 lg:h-5 bg-gradient-to-br from-blue-500 to-blue-600 rounded lg:rounded-md shadow-sm flex-shrink-0"
              ></div>
              <span class="text-xs lg:text-sm font-medium text-slate-600"
                >Evening</span
              >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Plans & Pricing -->
    <section id="plans" class="py-24">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2
            class="text-sm font-bold text-primary uppercase tracking-widest mb-2"
          >
            Pricing
          </h2>
          <h3 class="text-4xl font-bold text-slate-900">
            Flexible Membership Plans
          </h3>
          <p class="mt-4 text-slate-600">
            Choose the shift that fits your schedule.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
          <!-- Morning -->
          <div
            class="relative bg-white rounded-3xl p-8 shadow-xl shadow-slate-200/50 hover:shadow-2xl transition-all hover:-translate-y-2 border border-slate-100"
          >
            <div
              class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-400 to-yellow-400 rounded-t-3xl"
            ></div>
            <h4 class="text-2xl font-bold text-slate-900 mb-2">
              Morning Shift
            </h4>
            <p class="text-slate-500 text-sm font-medium">7:00 AM - 2:00 PM</p>
            <div class="my-6">
              <span class="text-4xl font-bold text-slate-900">‚Çπ400</span
              ><span class="text-slate-500">/mo</span>
            </div>
            <ul class="space-y-3 mb-8">
              <li class="flex items-center text-slate-600">
                <svg
                  class="w-5 h-5 text-green-500 mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >Reserved Seat
              </li>
              <li class="flex items-center text-slate-600">
                <svg
                  class="w-5 h-5 text-green-500 mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >High Speed WiFi
              </li>
              <li class="flex items-center text-slate-600">
                <svg
                  class="w-5 h-5 text-green-500 mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >AC Environment
              </li>
            </ul>
            <a
              href="booking.html"
              class="block w-full py-3 px-6 text-center rounded-xl bg-slate-50 text-slate-900 font-bold hover:bg-slate-100 transition-colors border border-slate-200"
              >Select Plan</a
            >
          </div>

          <!-- Full Day (Highlighted) -->
          <div
            class="relative bg-white rounded-3xl p-8 shadow-2xl shadow-primary/20 hover:shadow-primary/30 transition-all transform scale-105 border border-primary/10 z-10"
          >
            <div
              class="absolute top-0 right-0 bg-gradient-to-r from-primary to-secondary text-white text-xs font-bold px-3 py-1 rounded-bl-xl rounded-tr-2xl"
            >
              POPULAR
            </div>
            <div
              class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary to-secondary rounded-t-3xl"
            ></div>
            <h4 class="text-2xl font-bold text-slate-900 mb-2">Full Day</h4>
            <p class="text-slate-500 text-sm font-medium">7:00 AM - 10:00 PM</p>
            <div class="my-6">
              <span
                class="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary"
                >‚Çπ800</span
              ><span class="text-slate-500">/mo</span>
            </div>
            <ul class="space-y-3 mb-8">
              <li class="flex items-center text-slate-700 font-medium">
                <svg
                  class="w-5 h-5 text-primary mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >All Day Access
              </li>
              <li class="flex items-center text-slate-700 font-medium">
                <svg
                  class="w-5 h-5 text-primary mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >Personal Charging Point
              </li>
              <li class="flex items-center text-slate-700 font-medium">
                <svg
                  class="w-5 h-5 text-primary mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >Locker Facility
              </li>
            </ul>
            <a
              href="booking.html"
              class="block w-full py-4 px-6 text-center rounded-xl bg-gradient-to-r from-primary to-secondary text-white font-bold hover:shadow-lg hover:scale-[1.02] transition-all"
              >Select Plan</a
            >
          </div>

          <!-- Evening -->
          <div
            class="relative bg-white rounded-3xl p-8 shadow-xl shadow-slate-200/50 hover:shadow-2xl transition-all hover:-translate-y-2 border border-slate-100"
          >
            <div
              class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-t-3xl"
            ></div>
            <h4 class="text-2xl font-bold text-slate-900 mb-2">
              Evening Shift
            </h4>
            <p class="text-slate-500 text-sm font-medium">2:00 PM - 10:00 PM</p>
            <div class="my-6">
              <span class="text-4xl font-bold text-slate-900">‚Çπ600</span
              ><span class="text-slate-500">/mo</span>
            </div>
            <ul class="space-y-3 mb-8">
              <li class="flex items-center text-slate-600">
                <svg
                  class="w-5 h-5 text-green-500 mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >Reserved Seat
              </li>
              <li class="flex items-center text-slate-600">
                <svg
                  class="w-5 h-5 text-green-500 mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >Silent Environment
              </li>
              <li class="flex items-center text-slate-600">
                <svg
                  class="w-5 h-5 text-green-500 mr-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  ></path></svg
                >Late Night Study
              </li>
            </ul>
            <a
              href="booking.html"
              class="block w-full py-3 px-6 text-center rounded-xl bg-slate-50 text-slate-900 font-bold hover:bg-slate-100 transition-colors border border-slate-200"
              >Select Plan</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Founders Section (Moved Down) -->
    <section class="py-24 bg-white/50 backdrop-blur-sm">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2
            class="text-sm font-bold text-primary uppercase tracking-widest mb-2"
          >
            Leadership
          </h2>
          <h3 class="text-3xl font-bold text-slate-900">Meet The Founders</h3>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-4xl mx-auto">
          <!-- Founder 1 -->
          <div
            class="bg-white rounded-3xl overflow-hidden shadow-lg border border-slate-100 flex flex-col items-center text-center p-8 hover:shadow-xl transition-shadow"
          >
            <div
              class="w-32 h-32 rounded-full bg-slate-200 mb-6 bg-cover bg-center shadow-inner"
              style="background-image: url(&quot;images/papa.jpg&quot;)"
            ></div>
            <h4 class="text-xl font-bold text-slate-900">
              Mr. Brij Kishor Agrawal
            </h4>
            <p class="text-primary text-sm font-medium mb-4">Founder & Owner</p>
            <p class="text-slate-600 text-sm leading-relaxed">
              With years of dedication, he has built a peaceful and
              student-friendly study environment in the heart of Kota.
            </p>
          </div>

          <!-- Founder 2 -->
          <div
            class="bg-white rounded-3xl overflow-hidden shadow-lg border border-slate-100 flex flex-col items-center text-center p-8 hover:shadow-xl transition-shadow"
          >
            <div
              class="w-32 h-32 rounded-full bg-slate-200 mb-6 bg-cover bg-center shadow-inner"
              style="background-image: url(&quot;images/chinmay.jpg&quot;)"
            ></div>
            <h4 class="text-xl font-bold text-slate-900">
              Mr. Chinmay Agrawal
            </h4>
            <p class="text-primary text-sm font-medium mb-4">
              Manager & Visionary
            </p>
            <p class="text-slate-600 text-sm leading-relaxed">
              Carrying forward the vision with modern ideas, ensuring Kanha
              Library remains the best place for focused learning.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" class="py-24 relative overflow-hidden">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h3 class="text-3xl font-bold text-slate-900 text-center mb-16">
          Student Success Stories
        </h3>

        <!-- Carousel Wrapper -->
        <div class="carousel-container relative max-w-4xl mx-auto">
          <div
            class="carousel-track flex transition-transform duration-500"
            id="testimonialTrack"
          >
            <!-- Slide 1 -->
            <div class="carousel-slide min-w-full px-4">
              <div
                class="bg-white rounded-3xl p-8 text-center border border-slate-100 shadow-lg"
              >
                <img
                  src="images/reviews/1.png"
                  class="w-20 h-20 rounded-full mx-auto mb-6 border-4 border-white shadow-md"
                />
                <p class="text-lg text-slate-700 italic mb-6">
                  "Best library in kota for study. Very silent, best wifi, and
                  motivating environment. Two charging ports on every desk!"
                </p>
                <h4 class="font-bold text-slate-900">Aditya Jaat</h4>
                <div class="text-yellow-400 mt-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              </div>
            </div>
            <!-- Slide 2 -->
            <div class="carousel-slide min-w-full px-4">
              <div
                class="bg-white rounded-3xl p-8 text-center border border-slate-100 shadow-lg"
              >
                <img
                  src="images/reviews/2.png"
                  class="w-20 h-20 rounded-full mx-auto mb-6 border-4 border-white shadow-md"
                />
                <p class="text-lg text-slate-700 italic mb-6">
                  "A Perfect Place for Learning and Peace! I absolutely love
                  this library! Well-organized and resourceful."
                </p>
                <h4 class="font-bold text-slate-900">Riyanshi Rajawat</h4>
                <div class="text-yellow-400 mt-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              </div>
            </div>
            <!-- Slide 3 -->
            <div class="carousel-slide min-w-full px-4">
              <div
                class="bg-white rounded-3xl p-8 text-center border border-slate-100 shadow-lg"
              >
                <img
                  src="images/reviews/3.png"
                  class="w-20 h-20 rounded-full mx-auto mb-6 border-4 border-white shadow-md"
                />
                <p class="text-lg text-slate-700 italic mb-6">
                  "Best library I have ever been to, Pride of Kota."
                </p>
                <h4 class="font-bold text-slate-900">Ashish Raj</h4>
                <div class="text-yellow-400 mt-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              </div>
            </div>
          </div>

          <!-- Controls -->
          <button
            class="absolute top-1/2 -left-4 md:-left-12 transform -translate-y-1/2 bg-white p-3 rounded-full shadow-lg text-slate-600 hover:text-primary"
            onclick="moveTestimonial(-1)"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              ></path>
            </svg>
          </button>
          <button
            class="absolute top-1/2 -right-4 md:-right-12 transform -translate-y-1/2 bg-white p-3 rounded-full shadow-lg text-slate-600 hover:text-primary"
            onclick="moveTestimonial(1)"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 py-12 border-t border-slate-800">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-8"
      >
        <div>
          <h4 class="text-white text-lg font-bold mb-4">Kanha Library</h4>
          <p class="text-sm leading-relaxed text-slate-400">
            The ultimate destination for serious students in Kota. Join us to
            achieve your academic goals in a distraction-free zone.
          </p>
        </div>
        <div>
          <h4 class="text-white text-lg font-bold mb-4">Contact</h4>
          <p class="mb-2 flex items-center gap-2">
            <span class="text-primary">üìû</span> +91 7976769514
          </p>
          <p class="mb-2 flex items-center gap-2">
            <span class="text-primary">üìß</span> thechinmayagrawal@gmail.com
          </p>
        </div>
        <div>
          <h4 class="text-white text-lg font-bold mb-4">Location</h4>
          <p class="text-sm text-slate-400 mb-4">
            37 ,Akash nagar special, 37, Deoli Arab Rd, Akash Nagar, Borkhera,
            Kota, Rajasthan 324001
          </p>
          <a
            href="https://maps.google.com"
            target="_blank"
            class="text-primary hover:text-white transition-colors text-sm"
            >View on Map ‚Üí</a
          >
          <div class="mt-4">
            <a
              href="./policies.html"
              class="text-sm text-slate-400 hover:text-primary transition-colors flex items-center gap-2"
            >
              <span>üìú</span> View Policies & Rules
            </a>
          </div>
        </div>
      </div>
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12 pt-8 border-t border-slate-800 text-center text-sm text-slate-500"
      >
        <p>&copy; 2025 Kanha Library. All rights reserved.</p>
        <p class="mt-2">
          Designed by <span class="text-slate-400">Chinmay Agrawal</span>
        </p>
      </div>
    </footer>

    <!-- Scripts -->
    <script>
      // --- Mobile Menu Logic (Right-Side Drawer) ---
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const mobileMenuClose = document.getElementById("mobile-menu-close");
      const mobileMenu = document.getElementById("mobile-menu");
      const mobileMenuOverlay = document.getElementById("mobile-menu-overlay");
      const mobileLinks = document.querySelectorAll(".mobile-link");

      function openMobileMenu() {
        mobileMenuOverlay.classList.remove("hidden");
        // Small delay to allow display:block to apply before opacity transition
        setTimeout(() => {
          mobileMenuOverlay.classList.remove("opacity-0");
          mobileMenu.classList.remove("translate-x-full");
        }, 10);
      }

      function closeMobileMenu() {
        mobileMenu.classList.add("translate-x-full");
        mobileMenuOverlay.classList.add("opacity-0");

        // Wait for transition to finish before hiding
        setTimeout(() => {
          mobileMenuOverlay.classList.add("hidden");
        }, 300);
      }

      if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener("click", openMobileMenu);
      }

      if (mobileMenuClose) {
        mobileMenuClose.addEventListener("click", closeMobileMenu);
      }

      if (mobileMenuOverlay) {
        mobileMenuOverlay.addEventListener("click", closeMobileMenu);
      }

      // Close menu when clicking any link
      mobileLinks.forEach((link) => {
        link.addEventListener("click", closeMobileMenu);
      });

      // --- Offers Modal Logic ---
      window.addEventListener("load", () => {
        setTimeout(() => {
          const modal = document.getElementById("offers-modal");
          if (!sessionStorage.getItem("offerSeen")) {
            modal.classList.remove("hidden");
          }
        }, 1500);
      });

      document
        .getElementById("closeOffersBtn")
        .addEventListener("click", () => {
          document.getElementById("offers-modal").classList.add("hidden");
          sessionStorage.setItem("offerSeen", "true");
        });

      // --- Testimonial Carousel ---
      let currentTestimonial = 0;
      const track = document.getElementById("testimonialTrack");

      function moveTestimonial(direction) {
        const slides = track.children;
        const total = slides.length;
        currentTestimonial = (currentTestimonial + direction + total) % total;
        track.style.transform = `translateX(-${currentTestimonial * 100}%)`;
      }

      // --- Core Logic (Bookings, Layout) ---
      const API_BASE = "https://kanha-backend-yfx1.onrender.com/api";

      function formatDate(dateStr) {
        const date = new Date(dateStr);
        return date.toLocaleDateString("en-GB"); // DD/MM/YYYY
      }

      // Auth Check
      function updateUserUI() {
        const userData = localStorage.getItem("user");
        const userSection = document.getElementById("user-section");
        const mobileUserSection = document.getElementById(
          "mobile-user-section",
        );

        if (userData) {
          const user = JSON.parse(userData);
          const html = `
          <div class="flex items-center gap-3">
            <span class="text-sm font-medium text-slate-700 hidden lg:inline">Hello, ${user.firstName || "Student"}</span>
            <button onclick="logout()" class="px-4 py-2 rounded-full border border-slate-200 text-slate-600 hover:bg-slate-50 text-sm font-medium">Logout</button>
          </div>`;

          if (userSection) userSection.innerHTML = html;
          if (mobileUserSection)
            mobileUserSection.innerHTML = `<button onclick="logout()" class="block w-full text-center px-5 py-3 rounded-lg bg-slate-100 text-slate-900 font-bold">Logout</button>`;

          loadBookings();
        }
      }

      function logout() {
        localStorage.removeItem("user");
        location.reload();
      }

      // Booking Grouping Logic
      function groupBookings(bookings) {
        if (!Array.isArray(bookings) || bookings.length === 0) return [];

        const normalized = bookings.map((b) => ({
          ...b,
          dateObj: new Date(b.date),
        }));

        normalized.sort((a, b) => a.dateObj - b.dateObj);

        const groups = [];
        let group = null;

        for (let i = 0; i < normalized.length; i++) {
          const curr = normalized[i];

          if (!group) {
            group = {
              seatId: curr.seatId,
              shift: curr.shift,
              start: curr.date,
              end: curr.date,
              dateObjEnd: curr.dateObj,
            };
            continue;
          }

          const isSameDetails =
            curr.seatId === group.seatId && curr.shift === group.shift;

          const nextDayDate = new Date(group.dateObjEnd);
          nextDayDate.setDate(nextDayDate.getDate() + 1);
          const isNextDay = curr.dateObj.getTime() === nextDayDate.getTime();

          if (isSameDetails && curr.date === group.end) {
            continue; // Skip duplicate
          }

          if (isSameDetails && isNextDay) {
            group.end = curr.date;
            group.dateObjEnd = curr.dateObj;
          } else {
            groups.push(group);
            group = {
              seatId: curr.seatId,
              shift: curr.shift,
              start: curr.date,
              end: curr.date,
              dateObjEnd: curr.dateObj,
            };
          }
        }
        if (group) groups.push(group);
        return groups;
      }

      async function loadBookings() {
        const userData = localStorage.getItem("user");
        if (!userData) return;
        const user = JSON.parse(userData);

        try {
          const res = await fetch(`${API_BASE}/bookings?email=${user.email}`);
          const bookings = await res.json();
          const section = document.getElementById("my-bookings");
          const list = document.getElementById("booking-list");

          if (Array.isArray(bookings) && bookings.length > 0) {
            section.classList.remove("hidden");
            const grouped = groupBookings(bookings);

            list.innerHTML = grouped
              .map(
                (b) => `
            <div class="bg-white border border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
              <div class="flex justify-between items-start mb-4">
                <div class="bg-indigo-50 text-indigo-700 px-3 py-1 rounded-lg text-sm font-bold">Seat ${b.seatId}</div>
                <div class="text-xs font-bold uppercase tracking-wider text-slate-400">${b.shift}</div>
              </div>
              <div class="space-y-2 mb-6">
                <div class="flex justify-between text-sm">
                  <span class="text-slate-500">From</span>
                  <span class="font-medium text-slate-900">${formatDate(b.start)}</span>
                </div>
                <div class="flex justify-between text-sm">
                  <span class="text-slate-500">To</span>
                  <span class="font-medium text-slate-900">${formatDate(b.end)}</span>
                </div>
              </div>
              <button class="w-full py-2 bg-white border border-slate-300 rounded-xl text-slate-700 font-medium hover:bg-slate-50 transition-colors"
                onclick="window.location.href='booking.html?extend=1&seatId=${b.seatId}&shift=${b.shift}&fromDate=${b.start}&toDate=${b.end}'">
                Extend Booking
              </button>
            </div>
          `,
              )
              .join("");
          }
        } catch (err) {
          console.error("Error loading bookings:", err);
        }
      }

      // Live Counter
      async function updateLiveCounter() {
        try {
          const today = new Date().toISOString().split("T")[0];
          const res = await fetch(`${API_BASE}/bookings?date=${today}`);
          const bookings = await res.json();
          const booked = Array.isArray(bookings) ? bookings.length : 0;
          const total = 34;
          const left = total - booked;

          const el = document.getElementById("seatsLeft");
          if (el) el.textContent = left;

          const msgEl = document.getElementById("liveCounter");
          if (msgEl) {
            if (left <= 5)
              msgEl.textContent = `‚ö° Hurry up! Only ${left} seats remaining today!`;
            else msgEl.textContent = "";
          }
        } catch (err) {
          console.error(err);
        }
      }

      // Seat Layout Renderer
      function renderSeatLayout() {
        const rows = [
          { id: "row1", count: 12 },
          { id: "row2", count: 11 },
          { id: "row3", count: 11 },
        ];

        let seatCounter = 1;

        rows.forEach((row) => {
          const container = document.getElementById(row.id);
          if (!container) return;
          container.innerHTML = "";

          for (let i = 0; i < row.count; i++) {
            const seatId = seatCounter++;
            const seat = document.createElement("div");
            seat.className = `seat-label status-available`;
            seat.textContent = seatId;
            seat.id = `seat-${seatId}`;
            seat.title = `Seat ${seatId} - Available`;
            container.appendChild(seat);
          }
        });

        // Fetch status for selected date
        const dateInput = document.getElementById("calendar-date");
        const today = new Date().toISOString().split("T")[0];

        if (dateInput) {
          dateInput.addEventListener("change", () =>
            fetchSeatStatus(dateInput.value),
          );
          // Set today
          dateInput.value = today;
          fetchSeatStatus(today);
        } else {
          console.warn("Date input not found, fetching default");
          fetchSeatStatus(today);
        }
      }

      async function fetchSeatStatus(date) {
        console.log("Fetching seat status for:", date);
        if (!date) return;
        const loadingEl = document.getElementById("loading-seats");
        if (loadingEl) {
          loadingEl.classList.remove("hidden");
          loadingEl.textContent = "Fetching real-time status...";
          loadingEl.className =
            "mt-4 text-primary font-medium flex items-center gap-2";
        }

        try {
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 15000); // 15s timeout

          const res = await fetch(`${API_BASE}/bookings?date=${date}`, {
            signal: controller.signal,
          });
          clearTimeout(timeoutId);

          if (!res.ok) throw new Error(`Server error: ${res.status}`);

          const bookings = await res.json();
          console.log("Bookings received:", bookings.length);

          // Reset all to available
          document.querySelectorAll(".seat-label").forEach((el) => {
            el.className = "seat-label status-available";
            el.title = "Available";
          });

          if (Array.isArray(bookings)) {
            bookings.forEach((b) => {
              const el = document.getElementById(`seat-${b.seatId}`);
              if (el) {
                // Normalize shift value
                const shift = b.shift ? b.shift.toLowerCase() : "";
                console.log(`Marking seat ${b.seatId} as ${shift}`);

                if (shift === "full" || shift === "full_day") {
                  el.className = "seat-label status-booked";
                  el.title = `Seat ${b.seatId} - Full Day Booked`;
                } else if (shift === "morning" || shift === "am") {
                  if (el.classList.contains("status-evening")) {
                    el.className = "seat-label status-booked";
                    el.title = `Seat ${b.seatId} - Fully Booked`;
                  } else {
                    el.className = "seat-label status-morning";
                    el.title = `Seat ${b.seatId} - Morning Booked`;
                  }
                } else if (shift === "evening" || shift === "pm") {
                  if (el.classList.contains("status-morning")) {
                    el.className = "seat-label status-booked";
                    el.title = `Seat ${b.seatId} - Fully Booked`;
                  } else {
                    el.className = "seat-label status-evening";
                    el.title = `Seat ${b.seatId} - Evening Booked`;
                  }
                }
              } else {
                console.warn(`Seat element not found: seat-${b.seatId}`);
              }
            });
          }
          // Success: hide loading
          if (loadingEl) loadingEl.classList.add("hidden");
        } catch (e) {
          console.error("Fetch error:", e);
          if (loadingEl) {
            loadingEl.textContent =
              "Failed to load seat data. Check connection.";
            loadingEl.className =
              "mt-4 text-red-500 font-medium flex items-center gap-2";
            loadingEl.classList.remove("hidden");
          }
        }
      }

      // Init
      document.addEventListener("DOMContentLoaded", () => {
        updateUserUI();
        updateLiveCounter();
        renderSeatLayout();
        setInterval(updateLiveCounter, 30000);

        // Mobile Menu Logic
        const btn = document.getElementById("mobile-menu-btn");
        const menu = document.getElementById("mobile-menu");
        const overlay = document.getElementById("mobile-menu-overlay");
        const closeBtn = document.getElementById("mobile-menu-close");
        const links = document.querySelectorAll(".mobile-link");

        function openMenu() {
          menu.classList.remove("translate-x-full");
          overlay.classList.remove("hidden");
          setTimeout(() => overlay.classList.remove("opacity-0"), 10); // Fade in
        }

        function closeMenu() {
          menu.classList.add("translate-x-full");
          overlay.classList.add("opacity-0");
          setTimeout(() => overlay.classList.add("hidden"), 300); // Wait for fade out
        }

        if (btn) btn.addEventListener("click", openMenu);
        if (closeBtn) closeBtn.addEventListener("click", closeMenu);
        if (overlay) overlay.addEventListener("click", closeMenu);

        // Close on link click
        links.forEach((link) => {
          link.addEventListener("click", closeMenu);
        });
      });
    </script>
  </body>
</html>
